!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)._tj={})}(this,(function(e){"use strict";function n(e="",n){let t="参数不能为空！";throw e&&(t=e+t),n&&(t=n),console.error(t),Error(t)}const t=function(e){const t=String(e).toLocaleLowerCase();return function(i){return 0===arguments.length&&n(`is${e}方法的`),typeof i===t}};function i(e){if(0===arguments.length&&n("isJson方法的"),"string"==typeof e)try{const n=JSON.parse(e);return!("object"!=typeof n||!n)}catch(n){return console.log("error："+e+"!!!"+n),!1}return!1}const r=t("Boolean"),l=t("Number"),o=t("String"),s=t("Undefined"),c=t("Symbol"),u=t("Bigint");function a(e,t){return function(i){0===arguments.length&&n(`is${e}方法的`);const r="number"==typeof i;return r&&Number[`is${t}`](i)}}function f(e){0===arguments.length&&n("isFloat方法的");const t="number"==typeof e,i=String(e).indexOf(".")+1;return t&&i>0}function p(e){0===arguments.length&&n("isInfinite方法的");const t="number"==typeof e;return t&&!Number.isFinite(e)&&!Number.isNaN(e)}const h=a("Int","Integer"),d=a("Finite","Finite"),g=a("NaN","NaN"),b="[object Object]",m="[object Array]",y="[object Date]",T="[object Function]";function x(e,t){return function(i){0===arguments.length&&n(`is${e}方法的`);const r=Object.prototype.toString.call(i);return r===t}}const j=x("Null","[object Null]"),v=x("Array",m),O=x("Object",b),k=x("Date",y),S=x("Function",T),w=["string","bigint","boolean","symbol","undefined","function"];function F(e){if(0===arguments.length)return console.warn("getType方法没有接收到参数,返回的类型为undefined"),"undefined";let n="string";const t=typeof e,i=w.includes(t);return i?n=t:"number"===t?h(e)?n="int":f(e)?n="float":g(e)?n="NaN":p(e)&&(n="infinite"):"object"===t&&(j(e)?n="null":O(e)?n="object":v(e)?n="array":S(e)?n="function":k(e)&&(n="date")),n}var E,I;const N={splitType:D,URLSearchParamsType:function(e){const n=e.split("?")[1],t=new URLSearchParams(n);return Object.fromEntries(t.entries())},RegExpType:function(e){const n={};return e.replace(/(\w+|[\u4e00-\u9fa5]+)=(\w+|[\u4e00-\u9fa5]+)/gi,((e,t,i)=>(n[t]=i,""))),n}
/*! js-cookie v3.0.1 | MIT */},U={noneType:e=>e,decodeURIType:decodeURI,decodeURIComponentType:decodeURIComponent},C={noneType:e=>e,encodeURIType:encodeURI,encodeURIComponent:encodeURIComponent},R={url:null===(E=null===globalThis||void 0===globalThis?void 0:globalThis.location)||void 0===E?void 0:E.href,hashValue:"",encodeUrlType:"noneType"},_={url:null===(I=null===globalThis||void 0===globalThis?void 0:globalThis.location)||void 0===I?void 0:I.search,parseUrlType:"splitType",decodeUrlType:"noneType"};function D(e){const n=e.split("?")[1],t={};if(!n)return t;const i=n.split("&");for(let e=0,n=i.length;e<n;e++){const n=i[e].split("=");t[n[0]]=n[1]}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)e[i]=t[i]}return e}var B=function e(n,t){function i(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=A({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var o in r)r[o]&&(l+="; "+o,!0!==r[o]&&(l+="="+r[o].split(";")[0]));return document.cookie=e+"="+n.write(i,e)+l}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},r=0;r<t.length;r++){var l=t[r].split("="),o=l.slice(1).join("=");try{var s=decodeURIComponent(l[0]);if(i[s]=n.read(o,s),e===s)break}catch(e){}}return e?i[e]:i}},remove:function(e,n){i(e,"",A({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,A({},this.attributes,n))},withConverter:function(n){return e(A({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const P={cookie:B,local:null===globalThis||void 0===globalThis?void 0:globalThis.localStorage,session:null===globalThis||void 0===globalThis?void 0:globalThis.sessionStorage},J={ms:1,s:1e3,min:6e4,h:36e5,d:864e5,w:6048e5,m:2592e6,y:31536e6},V=["expires","path","domain","secure","sameSite"],$=["prefix","suffix","linkSign","expireTime","unitTime","expires","path","domain","secure","sameSite"];class q{constructor(e,n){if(this.prefix="",this.suffix="",this.linkSign=".",this.expireTime=-1,this.unitTime="ms",this.path="/",this.secure=!1,this.sameSite="Lax",!e||"cookie"!==e&&"local"!==e&&"session"!==e)throw Error("实例类型值类型是字符串类型，且值只能为 cookie或local或session");this.instanceType=e,n&&O(n)&&Object.entries(n).forEach((([e,n])=>{this[e]=n}))}setFun(e,n,t){if(0===arguments.length)return;if(!o(e)||!e.trim())throw Error("浏览器存储的标识必须是字符串类型,且不能为空字符串！");let i={};for(let e=0;e<$.length;e++)i[$[e]]=this[$[e]];s(t)||(i=Object.assign(Object.assign({},i),t));e=z({key:e,prefix:i.prefix,linkSign:i.linkSign,suffix:i.suffix});const r=i.expireTime*J[i.unitTime]+(new Date).getTime();if(console.log("time",r),o(n)||(n=n?JSON.stringify(n):"undefined"),"cookie"===this.instanceType){r>0&&(i.expires=new Date(r));const t={};V.forEach((e=>{s(i[e])||(t[e]=i[e])})),B.set(e,n,t)}else{const t={_tj_value:n,_tj_expireTime:r};P[this.instanceType].setItem(e,encodeURIComponent(JSON.stringify(t)))}}getFun(e,n){if(0===arguments.length)return;if(!o(e)||!e.trim())throw Error("浏览器存储的标识必须是字符串类型,且不能为空字符串！");let t={};for(let e=0;e<$.length;e++)t[$[e]]=this[$[e]];s(n)||(t=Object.assign(Object.assign({},t),n));let r;if(e=z({key:e,prefix:t.prefix,linkSign:t.linkSign,suffix:t.suffix}),"cookie"===this.instanceType){const n=B.get(e);o(n)&&(i(n)&&(r=JSON.parse(n)),r=n)}else{const n=P[this.instanceType],t=decodeURIComponent(n.getItem(e));if(o(t))if(i(t)){const e=Date.now(),n=JSON.parse(t);n&&n._tj_expireTime&&n._tj_expireTime>e&&(r=n._tj_value&&i(n._tj_value)?JSON.parse(n._tj_value):n._tj_value)}else r=t}return r}delFun(e,n){if(0===arguments.length)return;if(!o(e)||!e.trim())throw Error("浏览器存储的标识必须是字符串类型,且不能为空字符串！");let t={};for(let e=0;e<$.length;e++)t[$[e]]=this[$[e]];s(n)||(t=Object.assign(Object.assign({},t),n));if(e=z({key:e,prefix:t.prefix,linkSign:t.linkSign,suffix:t.suffix}),"cookie"===this.instanceType){const n={};V.forEach((e=>{s(t[e])||(n[e]=t[e])})),0===Object.keys(n).length?B.remove(e):B.remove(e,n)}else{P[this.instanceType].removeItem(e)}}existFun(e,n){let t;return t=n?this.getFun(e,n):this.getFun(e),!!t}allKey(e){var n,t,i;const r=[],l=[],o=[];if("cookie"===this.instanceType){const e=Object.keys(B.get());l.push(...e)}else{const e=P[this.instanceType],n=Object.keys(e);l.push(...n)}if(e&&O(e)){const o=Object.keys(e).length,s=null!==(n=e.prefix)&&void 0!==n?n:this.prefix,c=null!==(t=e.linkSign)&&void 0!==t?t:this.linkSign,u=null!==(i=e.suffix)&&void 0!==i?i:this.suffix;o>=3?l.forEach((e=>{e.includes(s+c)&&e.includes(c+u)&&r.push(e)})):o>=2?e.prefix&&e.suffix&&!e.linkSign?l.forEach((e=>{e.includes(s+c)&&e.includes(c+u)&&r.push(e)})):e.prefix&&e.linkSign&&!e.suffix?l.forEach((e=>{e.includes(s+c)&&r.push(e)})):e.linkSign&&e.suffix&&!e.prefix&&l.forEach((e=>{e.includes(c+u)&&r.push(e)})):!e.prefix||e.linkSign||e.suffix?!e.linkSign||e.prefix||e.suffix?!e.suffix||e.linkSign||e.prefix||l.forEach((e=>{e.includes(u)&&r.push(e)})):l.forEach((e=>{e.includes(c)&&r.push(e)})):l.forEach((e=>{e.includes(s)&&r.push(e)}))}else r.push(...l);let s;if("cookie"===this.instanceType)s=e=>B.get(e);else{const e=P[this.instanceType];s=n=>e.getItem(n)}if(r.length>0)for(let e=0;e<r.length;e++){const n=r[e];!M(s(n))||o.push(n)}return o}clearFun(e){let n=[];if("cookie"===this.instanceType){const t={};e?(n=[...this.allKey(e)],V.forEach((n=>{s(e[n])||(t[n]=e[n])}))):n=[...this.allKey()],n.length>0&&(0===Object.keys(t).length?n.forEach((e=>B.remove(e))):n.forEach((e=>B.remove(e,t))))}else{const t=P[this.instanceType];e?(n=[...this.allKey(e)],n.length>0&&n.forEach((e=>t.removeItem(e)))):t.clear()}}}function z(e){let n="";return e.linkSign.trim()?(e.prefix.trim()&&(n+=e.prefix+e.linkSign),n+=e.key,e.suffix.trim()&&(n+=e.linkSign+e.suffix)):n=e.key.trim(),n}function M(e){let n=!0;if(o(e)){if(i(e)){const t=JSON.parse(e);t._tj_expireTime&&t._tj_expireTime<Date.now()&&(n=!1)}}else n=!1;return n}const H=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/,L=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],K="undefined"==typeof window;let X={};K||(X=document);const Y=L[0],G={requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",fullscreenElement:"fullscreenElement",fullscreenEnabled:"fullscreenEnabled",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror"};for(const e of L)if(e[1]in X)for(const[n,t]of e.entries())G[Y[n]]=t;const Q=()=>Boolean(X[G.fullscreenElement]),W=(e=X.documentElement,n={navigationUI:"auto"})=>e[G.requestFullscreen](n),Z=()=>X[G.exitFullscreen](),ee=(e,n={pidName:"pid",childName:"children",idName:"id",initPid:"0"})=>{if(!v(e))return console.warn("请传入一个数组类型的参数"),[];const t=e.length;if(t<2)return e;const i=[];for(let r=0;r<t;r++){let t={};if(e[r][n.pidName]==n.initPid){const l=ee(e,Object.assign(Object.assign({},n),{initPid:e[r][n.idName]}));l&&l.length>0&&(t[n.childName]=l),t=Object.assign(Object.assign({},e[r]),t),i.push(t)}}return i},ne=(e,n="children")=>{var t;if(!v(e))return console.warn("请传入一个数组类型的参数"),[];const i=e.length;if(i<1)return e;const r=[];for(let l=0;l<i;l++){const i=Object.assign({},e[l]);delete i[n],r.push(i),e[l][n]&&(null===(t=e[l][n])||void 0===t?void 0:t.length)&&r.push(...ne(e[l][n]))}return r},te=(e,n,t,i="children")=>{if(!v(e))return void console.warn("请传入一个数组类型的参数");if(!O(n))return void console.warn("请传入一个JSON对象类型的筛选参数");const r=e.length;let l={};for(let o=0;o<r;o++){let r=!0;for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];e[o][t]!==i&&(r=!1)}if(r)return t&&t(e[o]),l=e[o],l;e[o][i]&&te(e[o][i],n,t,i)}};e.DTMobile=e=>{let n="";return"string"==typeof e?H.test(e)?n=e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"):console.warn("请输入一个正确的手机号"):console.warn("请输入一个字符串格式的手机号"),n},e.charInCounts=(e,n)=>e.split(n).length-1,e.closeFull=Z,e.converParamsToUrl=function(e,t){0===arguments.length&&n("converParamsToUrl方法的");let i="";const r=[];let l=R;if(t&&(l=Object.assign(Object.assign({},l),t)),"[object Object]"===Object.prototype.toString.call(e)?Object.entries(e).forEach((([e,n])=>{const t=e+"="+C[l.encodeUrlType](n);r.push(t)})):console.warn("拼接ur的参数格式必须是一个对象类型的数据！"),l.url.includes("?")){const n=l.url.split("?");if(console.log(n),n[1].includes("#")&&(i=n[0]+"?"+n[1].substring(0,n[1].lastIndexOf("#")),l.hashValue.trim()||(l.hashValue=n[1].substring(n[1].lastIndexOf("#")))),r.length>0){const t=D(i),r=Object.assign(Object.assign({},t),e),o=[];Object.entries(r).forEach((([e,n])=>{const t=e+"="+C[l.encodeUrlType](n);o.push(t)})),console.log(o),i=n[0]+"?"+o.join("&")+l.hashValue}else i=l.url+l.hashValue}else l.url.includes("#")&&(l.hashValue.trim()||(l.hashValue=l.url.substring(l.url.lastIndexOf("#"))),l.url=l.url.substring(0,l.url.lastIndexOf("#"))),i=r.length>0?l.url+"?"+r.join("&")+l.hashValue:l.url+l.hashValue;return i},e.findTreeData=te,e.formatChineseRMB=function(e){const n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],t=["","拾","佰","仟"],i=["","万","亿","兆"],r=["角","分","毫","厘"];let l="",o="",s="";if(void 0===e)return"";if((e=parseFloat(Math.abs(e).toString()))>=1e15)return"";if(0==e)return s=n[0]+"元整",s;const c=e.toString();if(-1==c.indexOf("."))l=c,o="";else{const e=c.split(".");l=e[0],o=e[1].substring(0,4)}if(parseInt(l,10)>0){let e=0;const r=l.length;for(let o=0;o<r;o++){const c=l.substring(o,o+1),u=r-o-1,a=u/4,f=u%4;"0"==c?e++:(e>0&&(s+=n[0]),e=0,s+=n[parseInt(c)]+t[f]),0==f&&e<4&&(s+=i[a])}s+="元"}if(""!=o){const e=o.length;for(let t=0;t<e;t++){const e=o.substring(t,t+1);"0"!=e&&(s+=n[Number(e)]+r[t])}}return""==s?s+=n[0]+"元整":""==o&&(s+="整"),s},e.getArrayAllType=function(e){v(e)||n("","getArrayAllType方法接收的参数应该是一个数组");const t=[];if(arguments.length>0&&e.length>0)for(let n=0;n<e.length;n++){const i=e[n];t.push(F(i))}return t},e.getArrayTypeDetail=function(e,t){v(e)||n("","getArrayTypeDetail方法接收的参数应该是一个数组");let i=[];if(arguments.length>0){const n=[],r=[];for(let i=0;i<e.length;i++){const l=i,o=e[i],s=F(o);r.push({index:l,value:o,type:s}),t&&(("number"===t&&["int","float"].includes(s)||t===s)&&n.push({index:l,value:o,type:s}))}i=t?[...n]:[...r]}return i},e.getFullEl=()=>{var e;return null!==(e=X[G.fullscreenElement])&&void 0!==e?e:void 0},e.getObjectAllType=function(e){O(e)||n("","getObjectAllType方法接收的参数应该是一个对象");const t=[];if(arguments.length>0)for(const n in e)if(Object.hasOwnProperty.call(e,n)){const i=e[n];t.push(F(i))}return t},e.getObjectTypeDetail=function(e,t){O(e)||n("","getObjectTypeDetail方法接收的参数应该是一个对象");let i=[];if(arguments.length>0){const n=[],r=[];for(const i in e)if(Object.hasOwnProperty.call(e,i)){const l=e[i],o=F(l);r.push({key:i,value:l,type:o}),t&&("number"===t&&["int","float"].includes(o)||t===o)&&n.push({key:i,value:l,type:o})}else;i=t?[...n]:[...r]}return i},e.getType=F,e.getUrlParams=function(e,n){let t={},i=_,r="",l="";if("string"==typeof arguments[0]?r=arguments[0]:"object"==typeof arguments[0]&&(i=Object.assign(Object.assign({},_),arguments[0])),"object"==typeof arguments[1]&&(i=Object.assign(Object.assign({},_),arguments[1])),l=U[i.decodeUrlType](i.url),l.includes("?")){const e=l.split("?");e[1].includes("#")&&(l="?"+e[1].substring(0,e[1].lastIndexOf("#")))}return t=N[i.parseUrlType](l),r?t[r]:t},e.isArray=v,e.isBigint=u,e.isBoolean=r,e.isDate=k,e.isFinite=d,e.isFloat=f,e.isFull=Q,e.isFullEnabled=()=>Boolean(X[G.fullscreenEnabled]),e.isFunction=S,e.isInfinite=p,e.isInt=h,e.isJson=i,e.isNaN=g,e.isNull=j,e.isNumber=l,e.isObject=O,e.isString=o,e.isSymbol=c,e.isUndefined=s,e.newStorage=function(e,n){return new q(e,n)},e.numberThousandsFormat=function(e,n=-1){if("number"!=typeof e)return;let t,i=e,r="";do{const e=i%1e3;i/=1e3,t=~~e,r=(i>=1?`${t}`.padStart(3,"0"):t)+(r?","+r:"")}while(i>=1);let l="";l+=n>=0?e.toFixed(n):e;const o=l.indexOf(".");return o>=0&&(r+=l.substring(o)),r},e.openFull=W,e.scrollBackTop=(e=.1,n=20)=>{let t,i;"undefined"!=typeof window&&(t=window),"undefined"!=typeof document&&(i=document),t.scrollX;const r=t.scrollY||0;let l=i.documentElement.scrollTop||i.body.scrollTop;if("number"==typeof e?e<=0?e=.1:e>1&&(e=1):e=.1,"number"!=typeof n&&(n=20),console.log(r),r>0){const t=Math.ceil(r*e),o=setInterval((function(){l-=t,l<=0&&clearInterval(o),i.documentElement.scrollTop=i.body.scrollTop=l}),n)}},e.scrollProgressBar=()=>{let e,n,t=0;"undefined"!=typeof window&&(e=window),"undefined"!=typeof document&&(n=document);const i=e.innerHeight||n.documentElement.clientHeight||n.body.clientHeight,r=n.documentElement.offsetHeight||n.body.offsetHeight,l=n.documentElement.scrollTop||n.body.scrollTop;if(i<r){const e=i/r*i;if(0===l)t=0;else{const n=Math.ceil(l+e/i*r);t=parseInt((n/r*100).toFixed(0))}}else t=0;return t},e.toTreeData=ee,e.toggleFull=(e=X.documentElement,n={navigationUI:"auto"})=>Q()?Z():W(e,n),e.treeToFlat=ne,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
