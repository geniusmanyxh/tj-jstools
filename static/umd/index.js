!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)._tj={})}(this,(function(e){"use strict";function t(e="",t){let n="参数不能为空！";throw e&&(n=e+n),t&&(n=t),console.error(n),Error(n)}const n=function(e){const n=String(e).toLocaleLowerCase();return function(i){return 0===arguments.length&&t(`is${e}方法的`),typeof i===n}};function i(e){if(0===arguments.length&&t("isJson方法的"),"string"==typeof e)try{let t=JSON.parse(e);return!("object"!=typeof t||!t)}catch(t){return console.log("error："+e+"!!!"+t),!1}return!1}const r=n("Boolean"),o=n("Number"),s=n("String"),l=n("Undefined"),c=n("Symbol"),u=n("Bigint");function f(e,n){return function(i){0===arguments.length&&t(`is${e}方法的`);let r="number"==typeof i;return r&&Number[`is${n}`](i)}}function a(e){0===arguments.length&&t("isFloat方法的");let n="number"==typeof e,i=String(e).indexOf(".")+1;return n&&i>0}function p(e){0===arguments.length&&t("isInfinite方法的");let n="number"==typeof e;return n&&!Number.isFinite(e)}const h=f("Int","Integer"),g=f("Finite","Finite"),d=f("NaN","NaN"),y="[object Object]",b="[object Array]",m="[object Date]",x="[object Function]";function j(e,n){return function(i){0===arguments.length&&t(`is${e}方法的`);let r=Object.prototype.toString.call(i);return r===n}}const T=j("Null","[object Null]"),O=j("Array",b),k=j("Object",y),v=j("Date",m),S=j("Function",x);let I=["string","bigint","boolean","symbol","undefined","function"];function U(e){if(0===arguments.length)return console.warn("getType方法没有接收到参数,返回的类型为undefined"),"undefined";let t="string",n=typeof e,i=I.includes(n);return i?t=n:"number"===n?h(e)?t="int":a(e)?t="float":d(e)?t="NaN":p(e)&&(t="infinite"):"object"===n&&(T(e)?t="null":k(e)?t="object":O(e)?t="array":S(e)?t="function":v(e)&&(t="date")),t}var w,_;const N={splitType:A,URLSearchParamsType:function(e){let t=e.split("?")[1];const n=new URLSearchParams(t);return Object.fromEntries(n.entries())},RegExpType:function(e){let t={};return e.replace(/(\w+|[\u4e00-\u9fa5]+)=(\w+|[\u4e00-\u9fa5]+)/gi,((e,n,i)=>(t[n]=i,""))),t}
/*! js-cookie v3.0.1 | MIT */},E={noneType:e=>e,decodeURIType:decodeURI,decodeURIComponentType:decodeURIComponent},C={noneType:e=>e,encodeURIType:encodeURI,encodeURIComponent:encodeURIComponent},R={url:null===(w=null===globalThis||void 0===globalThis?void 0:globalThis.location)||void 0===w?void 0:w.href,hashValue:"",encodeUrlType:"noneType"},F={url:null===(_=null===globalThis||void 0===globalThis?void 0:globalThis.location)||void 0===_?void 0:_.search,parseUrlType:"splitType",decodeUrlType:"noneType"};function A(e){let t=e.split("?")[1],n={};if(!t)return n;let i=t.split("&");for(let e=0,t=i.length;e<t;e++){let t=i[e].split("=");n[t[0]]=t[1]}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var J=function e(t,n){function i(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=D({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in r)r[s]&&(o+="; "+s,!0!==r[s]&&(o+="="+r[s].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");try{var l=decodeURIComponent(o[0]);if(i[l]=t.read(s,l),e===l)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",D({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,D({},this.attributes,t))},withConverter:function(t){return e(D({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const V={cookie:J,local:localStorage,session:sessionStorage},B={ms:1,s:1e3,min:6e4,h:36e5,d:864e5,w:6048e5,m:2592e6,y:31536e6},P=["prefix","suffix","linkSign","expireTime","unitTime","expires","path","domain","secure","sameSite"];class K{constructor(e,t){if(this.prefix="",this.suffix="",this.linkSign=".",this.expireTime=-1,this.unitTime="ms",!e||"cookie"!==e&&"local"!==e&&"session"!==e)throw Error("实例类型值类型是字符串类型，且值只能为 cookie或local或session");this.instanceType=e,t&&k(t)&&Object.entries(t).forEach((([e,t])=>{this[e]=t}))}setFun(e,t,n){if(0===arguments.length)return;if(!s(e)||!e.trim())throw Error("浏览器存储的标识必须是字符串类型,且不能为空字符串！");let i={};for(let e=0;e<P.length;e++)i[P[e]]=this[P[e]];l(n)||(i=Object.assign(Object.assign({},i),n));e=L({key:e,prefix:i.prefix,linkSign:i.linkSign,suffix:i.suffix});const r=i.expireTime*B[i.unitTime];if(s(t)||(t=JSON.stringify(t)),"cookie"===this.instanceType){r>0&&(i.expires=r);V.cookie.set(e,t,i)}else{const n={_tj_value:t,_tj_expireTime:r};V[this.instanceType].setItem(e,encodeURIComponent(JSON.stringify(n)))}}getFun(e,t){if(0===arguments.length)return;if(!s(e)||!e.trim())throw Error("浏览器存储的标识必须是字符串类型,且不能为空字符串！");let n={};for(let e=0;e<P.length;e++)n[P[e]]=this[P[e]];l(t)||(n=Object.assign(Object.assign({},n),t));let r;if(e=L({key:e,prefix:n.prefix,linkSign:n.linkSign,suffix:n.suffix}),"cookie"===this.instanceType){const t=V.cookie.get(e);s(t)&&(i(t)&&(r=JSON.parse(t)),r=t)}else{let t=V[this.instanceType].getItem(e);if(s(t)){if(i(t)){let e=Date.now();const n=JSON.parse(decodeURIComponent(t));n&&n._tj_expireTime&&n._tj_expireTime>e&&(r=n._tj_value&&i(n._tj_value)?JSON.parse(n._tj_value):n._tj_value)}r=decodeURIComponent(t)}}return r}delFun(e,t){if(0===arguments.length)return;if(!s(e)||!e.trim())throw Error("浏览器存储的标识必须是字符串类型,且不能为空字符串！");let n={};for(let e=0;e<P.length;e++)n[P[e]]=this[P[e]];l(t)||(n=Object.assign(Object.assign({},n),t));if(e=L({key:e,prefix:n.prefix,linkSign:n.linkSign,suffix:n.suffix}),"cookie"===this.instanceType){V.cookie.remove(e,n)}else{V[this.instanceType].removeItem(e)}}existFun(e,t){let n;return n=t?this.getFun(e,t):this.getFun(e),!!n}allKey(e){var t,n,i;const r=[],o=[],s=[];if("cookie"===this.instanceType){const e=V.cookie,t=Object.keys(e.get());o.push(...t)}else{const e=V[this.instanceType],t=Object.keys(e);o.push(...t)}if(e&&k(e)){const s=Object.keys(e).length,l=null!==(t=e.prefix)&&void 0!==t?t:this.prefix,c=null!==(n=e.linkSign)&&void 0!==n?n:this.linkSign,u=null!==(i=e.suffix)&&void 0!==i?i:this.suffix;s>=3?o.forEach((e=>{e.includes(l+c)&&e.includes(c+u)&&r.push(e)})):s>=2?e.prefix&&e.suffix&&!e.linkSign?o.forEach((e=>{e.includes(l+c)&&e.includes(c+u)&&r.push(e)})):e.prefix&&e.linkSign&&!e.suffix?o.forEach((e=>{e.includes(l+c)&&r.push(e)})):e.linkSign&&e.suffix&&!e.prefix&&o.forEach((e=>{e.includes(c+u)&&r.push(e)})):!e.prefix||e.linkSign||e.suffix?!e.linkSign||e.prefix||e.suffix?!e.suffix||e.linkSign||e.prefix||o.forEach((e=>{e.includes(u)&&r.push(e)})):o.forEach((e=>{e.includes(c)&&r.push(e)})):o.forEach((e=>{e.includes(l)&&r.push(e)}))}else r.push(...o);let l;if("cookie"===this.instanceType){l=V.cookie.get}else{l=V[this.instanceType].getItem}if(r.length>0)for(let e=0;e<r.length;e++){let t=r[e];!$(l(t))||s.push(t)}return s}clearFun(e){let t=[];if("cookie"===this.instanceType){const n=V.cookie;t=e?[...this.allKey(e)]:[...this.allKey()],t.length>0&&t.forEach((t=>n.remove(t,e)))}else{const n=V[this.instanceType];e?(t=[...this.allKey(e)],t.length>0&&t.forEach((e=>n.removeItem(e)))):n.clear()}}}function L(e){let t="";return e.linkSign.trim()?(e.prefix.trim()&&(t+=e.prefix+e.linkSign),t+=e.key,e.suffix.trim()&&(t+=e.linkSign+e.suffix)):t=e.key.trim(),t}function $(e){let t=!0;if(s(e)){if(i(e)){const n=JSON.parse(e);n._tj_expireTime&&n._tj_expireTime<Date.now()&&(t=!1)}}else t=!1;return t}e.charInCounts=(e,t)=>e.split(t).length-1,e.converParamsToUrl=function(e,n){0===arguments.length&&t("converParamsToUrl方法的");let i="",r=[],o=R;if(n&&(o=Object.assign(Object.assign({},o),n)),"[object Object]"===Object.prototype.toString.call(e)?Object.entries(e).forEach((([e,t])=>{let n=e+"="+C[o.encodeUrlType](t);r.push(n)})):console.warn("拼接ur的参数格式必须是一个对象类型的数据！"),o.url.includes("?")){let t=o.url.split("?");if(console.log(t),t[1].includes("#")&&(i=t[0]+"?"+t[1].substring(0,t[1].lastIndexOf("#")),o.hashValue.trim()||(o.hashValue=t[1].substring(t[1].lastIndexOf("#")))),r.length>0){const n=A(i),r=Object.assign(Object.assign({},n),e),s=[];Object.entries(r).forEach((([e,t])=>{let n=e+"="+C[o.encodeUrlType](t);s.push(n)})),console.log(s),i=t[0]+"?"+s.join("&")+o.hashValue}else i=o.url+o.hashValue}else o.url.includes("#")&&(o.hashValue.trim()||(o.hashValue=o.url.substring(o.url.lastIndexOf("#"))),o.url=o.url.substring(0,o.url.lastIndexOf("#"))),i=r.length>0?o.url+"?"+r.join("&")+o.hashValue:o.url+o.hashValue;return i},e.getArrayAllType=function(e){O(e)||t("","getArrayAllType方法接收的参数应该是一个数组");let n=[];if(arguments.length>0&&e.length>0)for(let t=0;t<e.length;t++){let i=e[t];n.push(U(i))}return n},e.getArrayTypeDetail=function(e,n){O(e)||t("","getArrayTypeDetail方法接收的参数应该是一个数组");let i=[];if(arguments.length>0){let t=[],r=[];for(let i=0;i<e.length;i++){let o=i,s=e[i],l=U(s);r.push({index:o,value:s,type:l}),n&&(("number"===n&&["int","float"].includes(l)||n===l)&&t.push({index:o,value:s,type:l}))}i=n?[...t]:[...r]}return i},e.getObjectAllType=function(e){k(e)||t("","getObjectAllType方法接收的参数应该是一个对象");let n=[];if(arguments.length>0)for(const t in e)if(Object.hasOwnProperty.call(e,t)){let i=e[t];n.push(U(i))}return n},e.getObjectTypeDetail=function(e,n){k(e)||t("","getObjectTypeDetail方法接收的参数应该是一个对象");let i=[];if(arguments.length>0){let t=[],r=[];for(const i in e)if(Object.hasOwnProperty.call(e,i)){let o=e[i],s=U(o);r.push({key:i,value:o,type:s}),n&&("number"===n&&["int","float"].includes(s)||n===s)&&t.push({key:i,value:o,type:s})}else;i=n?[...t]:[...r]}return i},e.getType=U,e.getUrlParams=function(e,t){let n={},i=F,r="",o="";if("string"==typeof arguments[0]?r=arguments[0]:"object"==typeof arguments[0]&&(i=Object.assign(Object.assign({},F),arguments[0])),"object"==typeof arguments[1]&&(i=Object.assign(Object.assign({},F),arguments[1])),o=E[i.decodeUrlType](i.url),o.includes("?")){let e=o.split("?");e[1].includes("#")&&(o="?"+e[1].substring(0,e[1].lastIndexOf("#")))}return n=N[i.parseUrlType](o),r?n[r]:n},e.isArray=O,e.isBigint=u,e.isBoolean=r,e.isDate=v,e.isFinite=g,e.isFloat=a,e.isFunction=S,e.isInfinite=p,e.isInt=h,e.isJson=i,e.isNaN=d,e.isNull=T,e.isNumber=o,e.isObject=k,e.isString=s,e.isSymbol=c,e.isUndefined=l,e.tjStorage=function(e,t){return new K(e,t)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
